<script defer>
  function swymCallbackFn(swat) {
    // Re-init Swym after collection updates
    document.addEventListener('swym:collections-loaded', function () {
      setTimeout(function () {
        swat.initializeActionButtons('body');
      }, 500);
    });

    // Prevent product link navigation ONLY when wishlist is inside a product card link
    document.addEventListener(
      'click',
      function (e) {
        var swymBtn = e.target.closest('.swym-button');
        if (!swymBtn) return;

        var productLink = swymBtn.closest('a.product-card__link');
        if (productLink) {
          e.preventDefault();      // stop navigation
          e.stopImmediatePropagation(); // but allow Swym to handle internally
        }
      },
      true
    );
  }

  if (!window.SwymCallbacks) {
    window.SwymCallbacks = [];
  }
  window.SwymCallbacks.push(swymCallbackFn);
</script>
<style>
/* Disable pointer events on the product link overlay */
.product-card__link {
  pointer-events: none;
}

/* Re-enable pointer events for actual interactive elements */
.product-card__link * {
  pointer-events: auto;
}

/* Ensure wishlist button is always clickable */
.swym-button {
  position: relative;
  z-index: 10;
  pointer-events: auto;
}

</style>